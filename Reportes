//Se debe agregar antes de la resta se debe determinar bien, ya que primero se hace una suma entre cantidadI y cantidadT y con el resultado que de se hace la resta

for (const nova of novas) {
  if (restante <= 0) break;

  const cantidadNova = Number(nova.cantidad || 0);
  if (cantidadNova <= 0) continue;

  const yaIngresado = mapIngresado.get(codigoAura) || 0;
  const pendienteRealERP = CantidadPendiente - yaIngresado;

  if (pendienteRealERP <= 0) break;

  const CantidadI = Number(aura.CantidadI || 0);
  if (CantidadI > CantidadPendiente) {
    console.log(`Se omite ${codigoAura} porque CantidadI (${CantidadI}) > CantidadPendiente (${CantidadPendiente})`);
    continue;
  }

  const cantidadInsertar = Math.min(
    restante,
    cantidadNova,
    pendienteRealERP
  );

  if (cantidadInsertar <= 0) continue;
