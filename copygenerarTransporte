import { Body, Controller, HttpCode, HttpStatus, Post, Put } from '@nestjs/common';
import { AsignacdpService } from './asignacdp.service';
import { AsignaCdpDto } from './dto/asignacdp.dto';
import { ReasignacdpDto } from './dto/reasignacdp.dto';
import { eliminarcdpDto } from './dto/eliminarcdo.dto';

@Controller()
export class AsignacdpController {
  constructor(private readonly asignacdpService: AsignacdpService) {}

  @Post('asignacdp')
  @HttpCode(HttpStatus.OK)
  async createAsignacdp(@Body() asignacdpDto: AsignaCdpDto) {
    return this.asignacdpService.createAsignacdp(asignacdpDto);
  }

  @Put('reasignacdp')
  @HttpCode(HttpStatus.OK)
  async reasignacdp(@Body() reasignacdpDto: ReasignacdpDto) {
    return this.asignacdpService.reasignacdp(reasignacdpDto);
  }

  // ðŸŸ© NUEVA RUTA PARA ELIMINAR / ANULAR CDP (estado 4)
  @Put('eliminarcdp')
  @HttpCode(HttpStatus.OK)
  async eliminarcdp(@Body() eliminarcdp: eliminarcdpDto) {
    return this.asignacdpService.eliminarcdp(eliminarcdp);
  }
}