const consecutivo = await this.prismaService.$queryRawUnsafe<any[]>(`
  SELECT ISNULL(MAX(CONVERT(INT, num_doc)), 0) + 1 AS numDoc
  FROM inv_inf_inv
  WHERE ano_doc = '${getNowDate().getFullYear()}'
    AND per_doc = '${getNowDate().getMonth()}'
    AND sub_tip = '${data.sub_tip}'
`);
const num_doc = consecutivo[0].numDoc;



const consecutivoReg = await this.prismaService.$queryRawUnsafe<any[]>(`
  SELECT ISNULL(MAX(CONVERT(INT, reg_doc)), 0) + 1 AS regDoc
  FROM inv_inf_inv
  WHERE ano_doc = '${getNowDate().getFullYear()}'
    AND per_doc = '${getNowDate().getMonth()}'
    AND sub_tip = '${data.sub_tip}'
    AND num_doc = '${num_doc}'
`);
const reg_doc = consecutivoReg[0].regDoc;